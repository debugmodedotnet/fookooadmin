<section class="pt-4 pb-5 instructor-settings-section">
  <div class="container-boxed">
    <h2 class="section-title font-36 nmc-dark-grey font-family-poppins text-center mb-4">
      Instructor Settings
    </h2>

    <!-- Button to show/hide form for creating new instructor -->
    <div class="right-align">
    <button class="btn btn-custom-add mb-3 addinstructor" (click)="toggleFormVisibility()">
      Add New Instructor
    </button></div>

    <!-- Table displaying the list of instructors -->
    <div *ngIf="!formVisible" class="mt-3">
      <table class="table table-bordered table-striped">
        <thead class="table-dark">
          <tr>
            <th>Name</th>
            <th>Position</th>
            <th>Email</th>
            <th>Github</th>
            <th>Twitter</th>
            <th>LinkedIn</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let instructor of instructors">
            <td>{{ instructor.Name }}</td>
            <td>{{ instructor.Position }}</td>
            <td>{{ instructor.Email }}</td>
            <td><a [href]="instructor.Github" target="_blank">Github</a></td>
            <td><a [href]="instructor.Twitter" target="_blank">Twitter</a></td>
            <td><a [href]="instructor.LinkedIn" target="_blank">LinkedIn</a></td>
            <td class="actions">
              <button class="btn btn-custom-edit btn-sm me-2" (click)="editInstructor(instructor)">
                Edit
              </button>
              <button class="btn btn-danger btn-sm" (click)="deleteInstructor(instructor.id!)">
                Delete
              </button>
            </td>
          </tr>
        </tbody>
      </table>
    </div>

    <!-- Form to create or update instructor -->
    <div *ngIf="formVisible" class="form-wrapper rounded-4 p-4 w-100 mx-auto">
      <form [formGroup]="instructorForm" (ngSubmit)="addOrUpdateInstructor()">
        <!-- General Information Section -->
        <div class="row form-group mt-3">
          <div class="col-12">
            <h4 class="section-title">General Information</h4>
            <div class="row">
              <div class="col-md-6">
                <label for="name" class="form-label required">Name</label>
                <input type="text" id="name" class="form-control" formControlName="Name" placeholder="Enter name" />
              </div>
              <div class="col-md-6">
                <label for="position" class="form-label required">Position</label>
                <input type="text" id="position" class="form-control" formControlName="Position" placeholder="Position" />
              </div>
              <div class="col-12 mt-3">
                <label for="bio" class="form-label required">Bio</label>
                <textarea id="bio" class="form-control" formControlName="Bio" rows="4" placeholder="Write a brief bio"></textarea>
              </div>
            </div>
          </div>
        </div>
    
        <!-- Social Links Section -->
        <div class="row mt-4">
          <div class="col-12">
            <h4 class="section-title">Social Links</h4>
            <div class="row">
              <div class="col-md-4">
                <label for="github" class="form-label required">GitHub</label>
                <input type="url" id="github" class="form-control" formControlName="Github" placeholder="GitHub URL" />
              </div>
              <div class="col-md-4">
                <label for="twitter" class="form-label required">Twitter</label>
                <input type="url" id="twitter" class="form-control" formControlName="Twitter" placeholder="Twitter URL" />
              </div>
              <div class="col-md-4">
                <label for="linkedin" class="form-label required">LinkedIn</label>
                <input type="url" id="linkedin" class="form-control" formControlName="LinkedIn" placeholder="LinkedIn URL" />
              </div>
            </div>
          </div>
        </div>
    
        <!-- Skills Section -->
        <div class="row mt-4">
          <div class="col-12">
            <h4 class="section-title">Skills</h4>
            <div class="row">
              <div class="col-md-3" *ngFor="let skill of ['Skill1', 'Skill2', 'Skill3', 'Skill4']">
                <label for="{{skill}}" class="form-label required">Skill</label>
                <select id="{{skill}}" class="form-control" formControlName="{{skill}}">
                  <option value="" disabled>Select a skill</option>
                  <option *ngFor="let s of skills" [value]="s">{{ s }}</option>
                </select>
              </div>
            </div>
          </div>
        </div>
    
        <!-- Companies Section -->
        <div class="row mt-4">
          <div class="col-12">
            <h4 class="section-title">Companies</h4>
            <div class="row">
              <div class="col-md-3" *ngFor="let company of ['Company1', 'Company2', 'Company3', 'Company4']">
                <label for="{{company}}" class="form-label required">Company</label>
                <input type="text" id="{{company}}" class="form-control" formControlName="{{company}}" placeholder="Company Name" />
              </div>
            </div>
          </div>
        </div>
    
        <!-- Photo Upload Section -->
        <div class="row mt-4">
          <div class="col-12">
            <label for="imageUpload" class="form-label">Upload Photo</label>
            <input type="file" id="imageUpload" (change)="uploadPhoto($event)" class="form-control" />
          </div>
        </div>
    
        <!-- Form Actions -->
        <div class="row mt-4">
          <div class="d-flex col-12 text-center">
            <button type="submit" class="btn btn-custom-submit" [disabled]="instructorForm.invalid">{{ instructorForm.get('id')?.value ? 'Update' : 'Add' }}</button><br>
            <button type="button" class="btn btn-custom-cancel ms-2" (click)="toggleFormVisibility()">Cancel</button>
          </div>
        </div>
      </form>
    </div>
  </div>
</section>




