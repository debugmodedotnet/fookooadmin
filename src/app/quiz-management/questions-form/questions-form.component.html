<div *ngIf="!technologySelected && showQuizForm">
  <form [formGroup]="technologyForm" (ngSubmit)="onTechnologySelect()">
    <label for="technology">Select Technology</label>
    <select id="technology" formControlName="technology">
      <option value="" disabled>Select technology</option>
      <option *ngFor="let tech of technologies" [value]="tech.id">
        {{ tech.name }}
      </option>
    </select>
    <button type="submit" [disabled]="technologyForm.invalid">
      Select Technology
    </button>
  </form>
</div>

<div *ngIf="technologySelected && showQuizForm">
  <form [formGroup]="quizForm" (ngSubmit)="onSubmit()">
    <div>
      <label for="question">Question</label>
      <input id="question" formControlName="question" />
    </div>
    <div>
      <label for="order">Order</label>
      <input id="order" formControlName="order" type="number" />
    </div>
    <div formArrayName="options">
      <div
        *ngFor="let option of options.controls; let i = index"
        [formGroupName]="i"
      >
        <label for="optionValue-{{ i }}">Option {{ i + 1 }}</label>
        <input id="optionValue-{{ i }}" formControlName="value" />
        <button type="button" (click)="removeOption(i)">Remove</button>
      </div>
      <button type="button" (click)="addOption()">Add Option</button>
    </div>
    <div>
      <label for="answerId">Answer</label>
      <input id="answerId" formControlName="answerId" />
    </div>
    <button type="submit">Submit</button>
    <button type="button" (click)="hideForms()">Cancel</button>
  </form>
</div>
